(this["webpackJsonprolling-news"]=this["webpackJsonprolling-news"]||[]).push([[0],{65:function(e,t,a){},67:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var c,n,r,s,i,o,l,j,u,d,b,x,h,m=a(1),O=a.n(m),p=a(23),f=a.n(p),g=(a(65),a(7)),v=a.n(g),N=a(12),y=a(4),w=(a(67),a(68),a(11)),S=a(2),C=function(){return Object(S.jsxs)("div",{className:"d-flex align-items-center flex-column bg-light mt-5 py-3",children:[Object(S.jsxs)(w.b,{className:"font-weight-light text-decoration-none lead azul",children:["Rolling",Object(S.jsx)("span",{className:"font-weight-bold",children:"news."})]}),Object(S.jsxs)("div",{className:"d-md-flex text-center my-2",children:[Object(S.jsx)(w.c,{to:"",className:"text-muted",children:"Pol\xedticas de privacidad"}),Object(S.jsx)(w.c,{to:"",className:"text-muted",children:"Contacto"}),Object(S.jsx)(w.c,{to:"",className:"text-muted",children:"Contrato de suscripci\xf3n"})]}),Object(S.jsx)("p",{className:"text-muted text-center",children:"\xa9 Rollingnews 2021 todos los derechos reservados"})]})},k=a(56),E=a(55),L=a(96),A=a(10),I=a(17),T=a(18),_=a(25),R=T.a.aside(c||(c=Object(I.a)(["\nposition: fixed;\nz-index: 999;\nwidth: 100%;\nheight:100%;\nbackground: #fff;\ndisplay: grid;\nalign-items: center;\ntop: 0;\nleft: 0;\ntransition: 0.3s ease-in-out;\nopacity: ",";\ntop: ","\n"])),(function(e){return e.isOpen?"98%":"0"}),(function(e){return e.isOpen?"0":"-100%"})),G=Object(T.a)(_.b)(n||(n=Object(I.a)(["\n  color: #000000;\n  &:hover {\n    color: #1d428d;\n  }\n  &.active {\n    color: #1d428d;\n  }\n"]))),D=T.a.div(r||(r=Object(I.a)(["\n  position: absolute;\n  top: 1.2rem;\n  right: 1.5rem;\n  background: transparent;\n  font-size: 2rem;\n  cursor: pointer;\n  outline: none;\n"]))),P=T.a.div(s||(s=Object(I.a)(["\n  color: #fff;\n \n"]))),F=Object(T.a)(w.c)(i||(i=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  text-decoration: none !important;\n  list-style: none;\n  transition: 0.2 ease-in-out;\n  color: #000000;\n  cursor: pointer;\n\n  &:hover {\n    color: #1d428d;\n    transition: 0.2 ease-in-out;\n  }\n  &.active {\n    color: #1d428d;\n  }\n"]))),V=T.a.ul(o||(o=Object(I.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: repeat(10, 60px);\n  text-align: center;\n  padding: 0;\n  margin: 0;\n  @media screen and (max-width: 480px) {\n    grid-template-rows: repeat(10, 60px);\n  }\n"]))),B=a(47),J=function(e){var t=void 0===e.usuarioLog.nombre?Object(S.jsx)(m.Fragment,{children:Object(S.jsxs)(F,{exact:!0,to:"/ingresar",className:"boton-outline d-flex align-items-center",children:[Object(S.jsx)(B.a,{className:"mx-2"})," Ingresar"]})}):Object(S.jsx)(m.Fragment,{children:Object(S.jsxs)(E.a,{className:"boton-outline d-flex align-items-center",onClick:e.cerrarSesion,children:[Object(S.jsx)(B.b,{className:"mx-2"})," Cerrar sesion"]})}),a="Admin"===e.usuarioLog.nombre&&"60b459c2c51ad300211df3fe"===e.usuarioLog._id?Object(S.jsx)(F,{exact:!0,to:"/administracion",className:"boton admin d-flex align-items-center",children:Object(S.jsx)(_.c,{})}):null;return Object(S.jsxs)(R,{onClick:e.toggle,isOpen:e.isOpen,children:[Object(S.jsx)(D,{children:Object(S.jsx)(G,{onClick:e.toggle})}),Object(S.jsxs)(P,{children:[Object(S.jsxs)("div",{className:"container-fluid py-2 px-3 mb-4 justify-content-center d-flex",children:[Object(S.jsxs)("div",{className:"mx-1",children:[" ",t]}),Object(S.jsxs)("div",{className:"mx-1",children:[" ",a]})]}),Object(S.jsx)(V,{children:e.categorias.map((function(e){return Object(S.jsx)(F,{className:"text-decoration-none",exact:!0,to:"/categoria/".concat(e&&e._id),children:e&&e.categoriaDisponible},e&&e._id)}))})]})]})},K=a(57),z=T.a.nav(l||(l=Object(I.a)(["\n  background: #f8f9fa;\n  height: 100px;\n  display: flex;\n  padding: 0.5rem calc((100vw - 1000px) / 2);\n  z-index: 10;\n  flex-direction: column;\n\n  /* Third Nav */\n  /* justify-content: flex-start; */\n"]))),M=Object(T.a)(w.c)(j||(j=Object(I.a)(["\n  color: #393939;\n  display: flex;\n  align-items: center;\n  align-self:center;\n  text-decoration: none;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n\n  @media screen and (max-width: 768px) {\n    align-self:flex-start;\n  }\n\n  &.active {\n    color: #000000;\n  }\n"]))),U=(Object(T.a)(w.c)(u||(u=Object(I.a)(["\n  color: #393939;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n\n  &.active {\n    color: #000000;\n  }\n"]))),Object(T.a)(_.a)(d||(d=Object(I.a)(["\n  display: none;\n  color: #000000;\n\n  &:hover {\n    color: #1d428d;\n  }\n  &.active {\n    color: #1d428d;\n  }\n\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 13px;\n    right: 0;\n    transform: translate(-100%, 75%);\n    font-size: 1.8rem;\n    cursor: pointer;\n  }\n"])))),q=T.a.div(b||(b=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: -24px;\n\n  /* Second Nav */\n  /* margin-right: 24px; */\n\n  /* Third Nav */\n  /* width: 100vw;\n  white-space: nowrap; */\n\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),H=(T.a.nav(x||(x=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 24px;\n\n  /* Third Nav */\n  /* justify-content: flex-end;\n  width: 100vw; */\n\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),Object(T.a)(w.c)(h||(h=Object(I.a)(["\n  border-radius: 4px;\n  background: #256ce1;\n  padding: 10px 22px;\n  color: #fff;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n\n  /* Second Nav */\n  margin-left: 24px;\n\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #fff;\n    color: #010606;\n  }\n"]))),Object(A.h)((function(e){var t=Object(m.useState)({}),a=Object(y.a)(t,2),c=a[0],n=a[1],r=function(){n({}),setTimeout((function(){e.history.push("/")}),300)},s=O.a.forwardRef((function(e,t){var a=e.children,c=e.onClick;return Object(S.jsxs)(w.b,{className:"",ref:t,to:"",onClick:function(e){e.preventDefault(),c(e)},children:[a,"\u25bc"]})})),i=O.a.forwardRef((function(e,t){var a=e.children,c=e.style,n=e.className,r=e["aria-labelledby"],s=Object(m.useState)(""),i=Object(y.a)(s,2),o=i[0],l=i[1];return Object(S.jsxs)("div",{hrex:"",ref:t,style:c,className:n,"aria-labelledby":r,children:[Object(S.jsx)(k.a,{autoFocus:!0,className:"mx-1 w-auto",placeholder:"Filtrar...",onChange:function(e){return l(e.target.value)},value:o}),Object(S.jsx)("ul",{className:"list-unstyled mx-2",children:O.a.Children.toArray(a).filter((function(e){return!o||e.props.children.toLowerCase().startsWith(o)}))})]})})),o=void 0===c.nombre?Object(S.jsxs)(m.Fragment,{children:[Object(S.jsx)(M,{exact:!0,to:"/ingresar",className:"boton-outline d-flex align-items-center",children:"Ingresar"}),Object(S.jsx)(M,{exact:!0,to:"/suscribirse",className:"boton d-flex align-items-center",children:"Suscribirse"})]}):Object(S.jsx)(m.Fragment,{children:Object(S.jsxs)(E.a,{className:"boton-outline responsive-boton1",onClick:r,children:[Object(S.jsx)(K.a,{})," Cerrar Sesion"]})}),l="Admin"===c.nombre&&"60b459c2c51ad300211df3fe"===c._id?Object(S.jsx)(M,{exact:!0,to:"/administracion",className:"boton d-flex align-items-center",children:"Administraci\xf3n"}):null,j=Object(A.f)();Object(m.useEffect)((function(){e.extraerLocal("usuarioLogueadoKey",n)}),[j.pathname]),Object(m.useEffect)((function(){localStorage.setItem("usuarioLogueadoKey",JSON.stringify(c))}),[c]);var u=Object(m.useState)(!1),d=Object(y.a)(u,2),b=d[0],x=d[1],h=function(){x(!b)};return Object(S.jsxs)("div",{className:"bg-light",children:[Object(S.jsx)(J,{cerrarSesion:r,usuarioLog:c,categorias:e.categorias,isOpen:b,toggle:h,mostrarIngresar:o,mostrarAdministracion:l}),Object(S.jsxs)("div",{className:"container-fluid py-2 px-3 justify-content-between topbar ",children:[o,l]}),Object(S.jsxs)(z,{children:[Object(S.jsx)(M,{exact:!0,to:"/",className:"text-primary text-decoration-none ",children:Object(S.jsxs)("h1",{className:"font-weight-light text-center azul ",children:["Rolling",Object(S.jsx)("span",{className:"font-weight-bold",children:"news."})]})}),Object(S.jsx)(U,{onClick:h}),Object(S.jsxs)(q,{className:"align-self-center",children:[e.navegacion.map((function(e){return Object(S.jsx)(M,{className:"text-decoration-none",exact:!0,to:"/categoria/".concat(e&&e._id),children:e&&e.categoriaDisponible},e&&e._id)})),Object(S.jsxs)(L.a,{children:[Object(S.jsx)(L.a.Toggle,{as:s,id:"dropdown-basic",children:"Categor\xedas"}),Object(S.jsx)(L.a.Menu,{as:i,children:e.dropdown.map((function(e){return Object(S.jsx)(M,{className:"",exact:!0,to:"/categoria/".concat(e&&e._id),children:e&&e.categoriaDisponible},e&&e._id)}))})]})]})]})]})}))),Y=function(){var e="Yerba Buena",t="https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("a2a36be300f39f02b24f47f11053efeb","&units=metric&lang=es"),a=Object(m.useState)([]),c=Object(y.a)(a,2),n=c[0],r=c[1],s=Object(m.useState)([]),i=Object(y.a)(s,2),o=i[0],l=i[1],j=function(){var e=Object(N.a)(v.a.mark((function e(){var a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(200!==(a=e.sent).status){e.next=10;break}return e.next=7,a.json();case 7:c=e.sent,r(c.main),l(c.weather[0].description.toUpperCase());case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(m.useEffect)((function(){j()}),[]),Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{className:"mt-5",children:"EL TIEMPO"}),Object(S.jsx)("div",{className:"row my-2",children:Object(S.jsxs)("div",{className:"col-lg-12",children:[Object(S.jsx)("h3",{children:e}),Object(S.jsx)("h3",{className:"font-weight-light",children:o}),Object(S.jsxs)("h3",{children:[Object(S.jsx)("span",{className:"font-weight-light",children:"La temperatura es de "}),n.temp,"\xb0c"]}),Object(S.jsxs)("h3",{children:[Object(S.jsx)("span",{className:"font-weight-light",children:"Sensacion termica de "}),n.feels_like,"\xb0c"]}),Object(S.jsxs)("h3",{children:[Object(S.jsx)("span",{className:"font-weight-light",children:"Humedad: "}),n.humidity,"%"]})]})})]})},W=function(e){var t=Object(m.useState)([]),a=Object(y.a)(t,2),c=a[0],n=a[1],r=Object(m.useState)([]),s=Object(y.a)(r,2),i=s[0],o=s[1],l=e.noticias[0];return Object(m.useEffect)((function(){e.noticiasRandom(e.noticias.length-1,2,10,e.noticias,n),e.noticiasRandom(e.noticias.length-1,6,20,e.noticias,o)}),[e.noticias]),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsxs)("section",{className:"my-3",children:[Object(S.jsx)("h2",{className:"mt-5",children:"LO M\xc1S BUSCADO"}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-lg-6 col-md-12",children:Object(S.jsx)("div",{className:"d-flex",children:Object(S.jsxs)(w.b,{onClick:e.limiteNoticias,exact:!0,to:"/detalle/".concat(l&&l._id),className:"text-decoration-none text-dark mb-4 px-2",children:[Object(S.jsx)("img",{src:l&&l.imagen1,className:"bg-secondary w-100 noticia-imagen "}),Object(S.jsxs)("div",{className:"destacada-titulo  p-3",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h4",{children:l&&l.titulo}),Object(S.jsx)("p",{children:l&&l.subtitulo})]}),Object(S.jsx)("p",{children:l&&l.categoria})]})]},l&&l._id)})}),Object(S.jsxs)("div",{className:"col-lg-6 col-md-12 col-sm-12",children:[Object(S.jsx)("div",{className:"d-flex flex-wrap",children:c.map((function(t){return Object(S.jsxs)(w.b,{onClick:e.limiteNoticias,exact:"true",to:"/detalle/".concat(t&&t._id),className:"text-decoration-none text-dark mb-4 noticias-recomendadas px-2",children:[Object(S.jsx)("img",{className:"w-100 h-50 noticia-imagen",src:t&&t.imagen1,alt:""}),Object(S.jsxs)("div",{className:"recomendada-titulo h-50 px-3 py-2",children:[Object(S.jsx)("h6",{children:t&&t.titulo}),Object(S.jsx)("p",{children:t&&t.categoria})]})]},t&&t._id)}))}),Object(S.jsx)("div",{className:"bg-secondary w-100 h-25 ml-auto"})]})]})]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("section",{className:"my-3",children:[Object(S.jsx)("h2",{className:"mt-5",children:"COVID"}),Object(S.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(S.jsx)("img",{className:"w-100 mb-4",src:"https://www.redcross.org/content/dam/redcross/cruz-roja/news-articles/coronavirus_spanish.png.transform/1288/q70/feature/image.png",alt:""}),e.covid.map((function(t){return Object(S.jsxs)(w.b,{onClick:e.limiteNoticias,exact:"true",to:"/detalle/".concat(t&&t._id),className:"noticias-medianas text-dark px-2 mb-4 text-decoration-none",children:[Object(S.jsx)("img",{className:"w-100 noticia-imagen div-imagen-grande",src:t&&t.imagen1,alt:""}),Object(S.jsx)("h6",{className:"destacada-titulo h-25 p-3",children:t&&t.titulo})]},t&&t._id)}))]})]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("section",{className:"my-3",children:[Object(S.jsx)("h2",{className:"mt-5",children:"M\xc1S NOTICIAS"}),Object(S.jsx)("div",{className:"row",children:Object(S.jsxs)("div",{className:"col-lg-10 col-sm-12 col-md-10",children:[Object(S.jsx)("div",{className:"contenedor-noticias-chicas",children:i.map((function(t){return Object(S.jsxs)(w.b,{onClick:e.limiteNoticias,exact:"true",to:"/detalle/".concat(t&&t._id),className:"noticias-chicas px-2 my-2 text-decoration-none text-dark d-flex flex-column",children:[Object(S.jsx)("img",{className:"w-100 h-50 noticia-imagen",src:t&&t.imagen1,alt:""}),Object(S.jsxs)("div",{className:"noticia-titulo px-3 py-2 d-flex flex-column justify-content-between",children:[Object(S.jsx)("h6",{children:t&&t.titulo}),Object(S.jsx)("p",{children:t&&t.categoria})]})]},t&&t._id)}))}),Object(S.jsx)(Y,{})]})})]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("section",{children:[Object(S.jsx)("h2",{className:"mt-5",children:"CRIPTOMONEDAS"}),Object(S.jsx)("div",{className:"bg-secondary w-100 div-clima mb-2"})]})]})},Q=function(e){var t=Object(A.g)().id,a=Object(m.useState)([]),c=Object(y.a)(a,2),n=c[0],r=c[1],s=Object(m.useState)(""),i=Object(y.a)(s,2),o=i[0],l=i[1],j=Object(m.useState)({}),u=Object(y.a)(j,2),d=u[0],b=u[1],x=Object(m.useState)([]),h=Object(y.a)(x,2),O=h[0],p=h[1],f=Object(m.useState)([]),g=Object(y.a)(f,2),C=g[0],k=g[1],E=Object(m.useState)([]),L=Object(y.a)(E,2),I=L[0],T=L[1],_=Object(m.useState)([]),R=Object(y.a)(_,2),G=R[0],D=R[1],P=function(){var e=Object(N.a)(v.a.mark((function e(){var a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://rollingnews5a.herokuapp.com/api/rollingnews/categorias"+"/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=10;break}return e.next=7,a.json();case 7:c=e.sent,l(c.categoriaDisponible),console.log(c.categoriaDisponible);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(N.a)(v.a.mark((function e(){var t,a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://rollingnews5a.herokuapp.com/api/rollingnews/noticias");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c=a.filter((function(e){return e.categoria===o})),n=a.filter((function(e){return e.categoria!=o})),r(c.reverse()),D(n.reverse()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(m.useEffect)((function(){P()}),[t]),Object(m.useEffect)((function(){F()}),[o]),Object(m.useEffect)((function(){!function(){b(n[0]);for(var e=[],t=1;t<7;t++)e.push(n[t]);p(e);for(var a=[],c=7;c<9;c++)a.push(n[c]);k(a)}()}),[n]),Object(m.useEffect)((function(){!function(){for(var e=G.length-1,t=[],a=[],c=[],n=0;n<12;n++){var r=Math.floor(Math.random()*(e-1))+1;t.push(r),c=t.filter((function(e,a){return t.indexOf(e)===a}))}for(var s in c.splice(6,c.length-6),c)a.push(G[c[s]]);T(a)}()}),[G]),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsxs)("section",{className:"my-5",children:[Object(S.jsx)("h2",{className:"mb-3 px-2",children:o.toUpperCase()}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-lg-10 col-sm-12"}),Object(S.jsx)("div",{className:"px-2 ",children:Object(S.jsxs)(w.b,{onClick:e.limiteNoticias,exact:"true",to:"/detalle/".concat(d&&d._id),className:"w-100  text-dark text-decoration-none",children:[Object(S.jsx)("img",{className:"w-100 noticia-imagen",src:d&&d.imagen1,alt:""}),Object(S.jsx)("h4",{className:"destacada-titulo p-3",children:d&&d.titulo})]},d&&d._id)})]})]}),Object(S.jsx)("hr",{}),Object(S.jsx)("section",{className:"mb-5 mt-4",children:Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-lg-10 col-sm-12",children:Object(S.jsx)("div",{className:"contenedor-noticias-chicas",children:O.map((function(e){return Object(S.jsxs)(w.b,{exact:!0,to:"/detalle/".concat(e&&e._id),className:"noticias-chicas px-2 mt-4  text-decoration-none text-dark d-flex flex-column",children:[Object(S.jsx)("img",{className:"w-100 h-50 noticia-imagen",src:e&&e.imagen1,alt:""}),Object(S.jsx)("div",{className:"noticia-titulo px-3 py-2  d-flex flex-column",children:Object(S.jsx)("h6",{children:e&&e.titulo})})]},e&&e._id)}))})}),Object(S.jsx)("div",{className:"col-lg-2",children:Object(S.jsx)("div",{className:"bg-secondary w-100 div-anuncio ml-auto"})})]})}),Object(S.jsx)("hr",{}),Object(S.jsx)("section",{className:"my-5",children:Object(S.jsx)("div",{className:"d-flex flex-wrap",children:C.map((function(t){return Object(S.jsxs)(w.b,{onClick:e.limiteNoticias,exact:"true",to:"/detalle/".concat(t&&t._id),className:"px-2 noticias-medianas text-dark text-decoration-none",children:[Object(S.jsx)("img",{className:"w-100 mb-2 noticia-imagen div-imagen-grande",src:t&&t.imagen1,alt:""}),Object(S.jsx)("h6",{className:"destacada-titulo h-25 p-3",children:t&&t.titulo})]},t&&t._id)}))})}),Object(S.jsxs)("section",{children:[Object(S.jsx)("h2",{children:"OTRAS NOTICIAS"}),Object(S.jsxs)("div",{className:"row mt-5",children:[Object(S.jsx)("div",{className:"col-lg-10",children:Object(S.jsx)("div",{className:"contenedor-noticias-chicas",children:I.map((function(e){return Object(S.jsxs)(w.b,{exact:!0,to:"/detalle/".concat(e&&e._id),className:"noticias-chicas px-2 my-2 text-decoration-none text-dark d-flex flex-column",children:[Object(S.jsx)("img",{className:"w-100 h-50 noticia-imagen",src:e&&e.imagen1,alt:""}),Object(S.jsxs)("div",{className:"noticia-titulo px-3 py-2  d-flex flex-column justify-content-between",children:[Object(S.jsx)("h6",{children:e&&e.titulo}),Object(S.jsx)("p",{children:e&&e.categoria})]})]},e&&e._id)}))})}),Object(S.jsx)("div",{className:"col-lg-2",children:Object(S.jsx)("div",{className:"bg-secondary w-100 div-anuncio ml-auto"})})]})]})]})},X=function(e){var t="https://rollingnews5a.herokuapp.com/api/rollingnews/noticias",a=Object(A.g)().id,c=Object(m.useState)({}),n=Object(y.a)(c,2),r=n[0],s=n[1],i=Object(m.useState)(""),o=Object(y.a)(i,2),l=o[0],j=o[1],u=Object(m.useState)([]),d=Object(y.a)(u,2),b=d[0],x=d[1],h=Object(m.useState)([]),O=Object(y.a)(h,2),p=O[0],f=O[1],g=Object(m.useState)([]),C=Object(y.a)(g,2),k=C[0],E=C[1],L=Object(m.useState)([]),I=Object(y.a)(L,2),T=I[0],_=I[1],R=Object(m.useState)({}),G=Object(y.a)(R,2),D=G[0],P=G[1],F=Object(m.useState)(0),V=Object(y.a)(F,2),B=V[0],J=V[1],K=function(){var e=Object(N.a)(v.a.mark((function e(){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t+"/".concat(a));case 3:if(200!==(c=e.sent).status){e.next=10;break}return e.next=7,c.json();case 7:n=e.sent,s(n),j(n.categoria.toUpperCase());case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(N.a)(v.a.mark((function e(){var a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,n=c.filter((function(e){return e&&e.categoria.toUpperCase()===l})),x(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(m.useEffect)((function(){K()}),[a]),Object(m.useEffect)((function(){z()}),[l]),Object(m.useEffect)((function(){e.noticiasRandom(b.length-1,8,40,b,f)}),[b,a]),Object(m.useEffect)((function(){!function(){for(var e=[],t=0;t<2;t++)e.push(p[t]),E(e);for(var a=[],c=2;c<8;c++)a.push(p[c]),_(a)}()}),[p]);var M=Object(A.f)();Object(m.useEffect)((function(){console.log("route has been changed"),e.extraerLocal("noticiasVistasKey",J),e.extraerLocal("usuarioLogueadoKey",P),void 0!=D.nombre&&localStorage.setItem("noticiasVistasKey",JSON.stringify(0))}),[M.pathname]);var U=void 0!=D.nombre||B<20?Object(S.jsxs)(m.Fragment,{children:[Object(S.jsx)("h2",{className:"mt-5",children:r.titulo}),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-lg-9 col-md-12",children:Object(S.jsx)("div",{className:"row",children:Object(S.jsxs)("div",{className:"col-lg-12",children:[Object(S.jsxs)("section",{children:[Object(S.jsx)("h4",{className:"my-4",children:r.subtitulo}),Object(S.jsx)("img",{src:r.imagen1,className:"bg-secondary w-100 mb-2 noticia-imagen"}),Object(S.jsx)("p",{className:"my-4",children:r.parrafo1}),Object(S.jsx)("p",{className:"my-4",children:r.parrafo2})]}),Object(S.jsxs)("section",{children:[Object(S.jsx)("img",{src:r.imagen2,className:"bg-secondary w-100  mb-2"}),Object(S.jsx)("p",{className:"my-4",children:r.parrafo3})]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("h2",{className:"mt-5",children:["M\xc1S SOBRE ",l]}),Object(S.jsx)("section",{className:"contenedor-noticias-chicas",children:T.map((function(t){return Object(S.jsxs)(w.b,{onClick:e.limiteNoticias,exact:"true",to:"/detalle/".concat(t&&t._id),className:"noticias-chicas px-2 my-2 text-decoration-none text-dark d-flex flex-column",children:[Object(S.jsx)("img",{className:"w-100 h-50 noticia-imagen",src:t&&t.imagen1,alt:""}),Object(S.jsxs)("div",{className:"noticia-titulo px-3 py-2 d-flex flex-column justify-content-between",children:[Object(S.jsx)("h6",{children:t&&t.titulo}),Object(S.jsx)("p",{children:t&&t.categoria})]})]},t&&t._id)}))})]})})}),Object(S.jsx)("div",{className:"col-lg-3 col-md-12 mt-5",children:k.map((function(t){return Object(S.jsxs)(w.b,{onClick:e.limiteNoticias,exact:"true",to:"/detalle/".concat(t&&t._id),className:"noticias-chicas text-decoration-none mb-4 text-dark d",children:[Object(S.jsx)("img",{className:"w-100 mb-2 div-imagen-chica noticia-imagen",src:t&&t.imagen1,alt:""}),Object(S.jsxs)("div",{className:" px-3 py-2 d-flex flex-column justify-content-between recomendada-titulo mb-4",children:[Object(S.jsx)("h6",{children:t&&t.titulo}),Object(S.jsx)("p",{children:t&&t.categoria})]})]},t&&t._id)}))})]})]}):Object(S.jsx)(m.Fragment,{children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("h1",{className:"display-2",children:"Alcanzaste el limite de noticias por leer"}),Object(S.jsx)("p",{className:"lead",children:"Ingresa a tu cuenta, o crea una de forma gratuita"})]})});return Object(S.jsx)("div",{className:"container",children:U})},Z=a(98),$=a(97),ee=function(e){return""!==e.trim()},te=Object(A.h)((function(e){var t=Object(m.useState)(""),a=Object(y.a)(t,2),c=a[0],n=a[1],r=Object(m.useState)(""),s=Object(y.a)(r,2),i=s[0],o=s[1],l=Object(m.useState)([]),j=Object(y.a)(l,2),u=(j[0],j[1]),d=Object(m.useState)({}),b=Object(y.a)(d,2),x=b[0],h=b[1],O=Object(m.useState)(!1),p=Object(y.a)(O,2),f=p[0],g=p[1],C=Object(m.useState)(!1),k=Object(y.a)(C,2),L=k[0],A=k[1],I=function(){var e=Object(N.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),ee(c)&&ee(i)?(T(),A(!1),g(!0)):A(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var t=Object(N.a)(v.a.mark((function t(){var a,n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://rollingnews5a.herokuapp.com/api/rollingnews/usuarios");case 3:return a=t.sent,t.next=6,a.json();case 6:for(r in n=t.sent,u(n),n)n[r].nombre===c&&n[r].pass===i&&!0===n[r].verified&&(h(n[r]),e.history.push("/"));t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(m.useEffect)((function(){f?(console.log(!0),localStorage.setItem("usuarioLogueadoKey",JSON.stringify(x))):console.log(!1)}),[x]),Object(S.jsxs)("div",{className:"container my-5",children:[Object(S.jsx)("h2",{className:"my-4 text-center font-weight-light",children:"Ingres\xe1 con tu cuenta"}),Object(S.jsxs)(Z.a,{onSubmit:I,className:"w-75 mx-auto",children:[Object(S.jsxs)(Z.a.Group,{children:[!0===L?Object(S.jsx)($.a,{variant:"danger",children:"Todos los campos son obligatorios"}):null,Object(S.jsx)(Z.a.Label,{children:"Tu nombre de usuario"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return n(e.target.value)},type:"text",placeholder:"Jorgito",value:c})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{className:"mt-4",children:"Contrase\xf1a"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return o(e.target.value)},type:"password",placeholder:"Contrase\xf1a",value:i})]}),Object(S.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(S.jsx)("a",{className:"text-muted",children:"\xbfOlvidaste tu contrase\xf1a?"})}),Object(S.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(S.jsx)(E.a,{className:"boton px-5 btn",type:"submit",children:"Inicia sesion"}),Object(S.jsx)(w.b,{exact:!0,to:"/suscribirse",className:"mx-2 px-5  boton-outline d-flex align-items-center",children:"Suscr\xedbete"})]})]})]})})),ae=Object(A.h)((function(e){var t=Object(m.useState)({}),a=Object(y.a)(t,2),c=a[0],n=a[1],r="Admin"===c.nombre?Object(S.jsxs)(m.Fragment,{children:[Object(S.jsxs)("h2",{className:"text-center my-5",children:["BIENVENIDO ",Object(S.jsx)("br",{})," ADMINISTRADOR"]}),Object(S.jsx)(w.b,{exact:!0,to:"administracion/noticias",className:"btn btn-outline-primary w-25 py-5 mx-2",children:"Noticias"}),Object(S.jsx)(w.b,{exact:!0,to:"administracion/categorias",className:"btn btn-outline-primary w-25 py-5 mx-2",children:"Categorias"}),Object(S.jsx)(w.b,{exact:!0,to:"administracion/nueva",className:"btn btn-outline-primary w-25 py-5 mx-2",children:"Nueva noticia"})]}):Object(S.jsxs)(m.Fragment,{children:[Object(S.jsx)("h1",{className:"display-2",children:"Acceso restringido"}),Object(S.jsx)("p",{className:"lead",children:"Seccion para uso exclusivo del administrador"})]}),s=Object(A.f)();Object(m.useEffect)((function(){console.log("route has been changed"),e.extraerLocal("usuarioLogueadoKey",n)}),[s.pathname]);var i=Object(m.useRef)(!0);return Object(m.useEffect)((function(){i.current?i.current=!1:setTimeout((function(){"Admin"!==c.nombre?e.history.push("/"):console.log("Adminxd")}),2e3)})),Object(S.jsxs)("div",{className:"text-center",children:[r,Object(S.jsx)("p",{className:"my-5",children:"Informaci\xf3n del sistema v0.1"})]})})),ce=a(14),ne=a.n(ce),re=Object(A.h)((function(e){var t=Object(m.useState)(""),a=Object(y.a)(t,2),c=a[0],n=a[1],r=Object(m.useState)(""),s=Object(y.a)(r,2),i=s[0],o=s[1],l=Object(m.useState)(""),j=Object(y.a)(l,2),u=j[0],d=j[1],b=Object(m.useState)(""),x=Object(y.a)(b,2),h=x[0],O=x[1],p=Object(m.useState)(""),f=Object(y.a)(p,2),g=f[0],w=f[1],C=Object(m.useState)(""),k=Object(y.a)(C,2),L=k[0],I=k[1],T=Object(m.useState)(""),_=Object(y.a)(T,2),R=_[0],G=_[1],D=Object(m.useState)(""),P=Object(y.a)(D,2),F=P[0],V=P[1],B=Object(m.useState)(""),J=Object(y.a)(B,2),K=J[0],z=J[1],M=Object(m.useState)("Actualidad"),U=Object(y.a)(M,2),q=U[0],H=U[1],Y=Object(m.useState)(!1),W=Object(y.a)(Y,2),Q=W[0],X=W[1],ee=Object(m.useState)({}),te=Object(y.a)(ee,2),ae=te[0],ce=te[1],re=function(){var t=Object(N.a)(v.a.mark((function t(a){var r,s,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==c.trim()&&""!==i.trim()&&""!==u.trim()&&""!==h.trim()&&""!==g.trim()&&""!==L.trim()&&""!==R.trim()&&""!==F.trim()&&""!==K.trim()&&""!==q){t.next=6;break}return X(!0),t.abrupt("return");case 6:return X(!1),r={titulo:c,subtitulo:i,parrafo1:u,parrafo2:h,parrafo3:g,categoria:q,imagen1:L,imagen2:R,autor:F,fecha:K},t.prev=8,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},t.next=12,fetch("https://rollingnews5a.herokuapp.com/api/rollingnews/noticias",s);case 12:return l=t.sent,t.next=15,l.status;case 15:if(t.t0=t.sent,201!==t.t0){t.next=27;break}ne.a.fire("Producto Agregado","Se carg\xf3 una noticia correctamente","success"),n(""),o(""),d(""),O(""),w(""),I(""),G(""),e.consultarAPI(),e.history.push("/administracion/noticias");case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(8),console.log(t.t1);case 32:case"end":return t.stop()}}),t,null,[[8,29]])})));return function(e){return t.apply(this,arguments)}}(),se="Admin"===ae.nombre?Object(S.jsxs)(m.Fragment,{children:[Object(S.jsx)("h2",{className:"font-weight-light my-3 text-center",children:"AGREGAR UNA NUEVA NOTICIA"}),Object(S.jsxs)(Z.a,{onSubmit:re,children:[Object(S.jsxs)(Z.a.Group,{children:[!0===Q?Object(S.jsx)($.a,{variant:"danger",children:"Todos los campos son obligatorios"}):null,Object(S.jsx)(Z.a.Label,{children:"T\xedtulo principal"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return n(e.target.value)},type:"text",placeholder:"Escriba un t\xedtulo",value:c})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Subt\xedtulo"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return o(e.target.value)},type:"text",placeholder:"Escriba un subt\xedtulo",value:i})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Archivo imagen 1"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return I(e.target.value)},type:"text",placeholder:"Ejemplo: flores.jpg",value:L})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Archivo imagen 2"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return G(e.target.value)},type:"text",placeholder:"Ejemplo: arboles.jpg",value:R})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"P\xe1rrafo 1"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return d(e.target.value)},as:"textarea",rows:3,value:u,placeholder:"Ingrese hasta 400 caracteres"})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"P\xe1rrafo 2"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return O(e.target.value)},as:"textarea",rows:3,value:h,placeholder:"Ingrese hasta 400 caracteres"})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"P\xe1rrafo 3"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return w(e.target.value)},as:"textarea",rows:3,value:g,placeholder:"Ingrese hasta 400 caracteres"})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Autor"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return V(e.target.value)},type:"text",value:F,placeholder:"Ingrese el autor de la noticia"})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Fecha"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return z(e.target.value)},type:"text",value:K,placeholder:"Ingrese la fecha"})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Seleccionar categor\xeda"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return H(e.target.value)},as:"select",children:e.categorias.map((function(e){return Object(S.jsx)("option",{children:e.categoriaDisponible})}))})]}),Object(S.jsx)(E.a,{variant:"primary",type:"submit",children:"Agregar"})]})]}):Object(S.jsx)(m.Fragment,{children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("h1",{className:"display-2",children:"Acceso restringido"}),Object(S.jsx)("p",{className:"lead",children:"Seccion para uso exclusivo del administrador"})]})}),ie=Object(A.f)();Object(m.useEffect)((function(){e.extraerLocal("usuarioLogueadoKey",ce)}),[ie.pathname]);var oe=Object(m.useRef)(!0);return Object(m.useEffect)((function(){oe.current?oe.current=!1:setTimeout((function(){"Admin"!==ae.nombre&&e.history.push("/")}),2e3)})),Object(S.jsxs)("div",{className:"container",children:[se,Object(S.jsx)("p",{className:"my-5  text-center",children:"Informaci\xf3n del sistema v0.1"})]})})),se=a(95),ie=function(e){var t=Object(m.useState)(""),a=Object(y.a)(t,2),c=a[0],n=a[1],r=Object(m.useState)(!1),s=Object(y.a)(r,2),i=s[0],o=s[1],l=function(){var t=Object(N.a)(v.a.mark((function t(a){var r,s,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==c.trim()){t.next=6;break}return o(!0),t.abrupt("return");case 6:return o(!1),r={categoriaDisponible:c},t.prev=8,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},t.next=12,fetch("https://rollingnews5a.herokuapp.com/api/rollingnews/categorias",s);case 12:return i=t.sent,t.next=15,i.status;case 15:if(t.t0=t.sent,201!==t.t0){t.next=20;break}ne.a.fire("Categoria agregada","Se carg\xf3 una nueva categoria","success"),n(""),e.consultarCategoria();case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(8),console.log(t.t1);case 25:case"end":return t.stop()}}),t,null,[[8,22]])})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[!0===i?Object(S.jsx)($.a,{className:"mb-1",variant:"danger",children:"Este campo es obligatorio"}):null,Object(S.jsxs)(Z.a,{onSubmit:l,className:"d-flex flex-grow ",children:[Object(S.jsx)(Z.a.Group,{className:"w-100",children:Object(S.jsx)(Z.a.Control,{onChange:function(e){return n(e.target.value)},type:"text",value:c,placeholder:"Agregar una nueva categor\xeda"})}),Object(S.jsx)("div",{children:Object(S.jsx)(E.a,{type:"submit",className:"",children:"Agregar"})})]})]})},oe=a(38),le=a(33),je=function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.categoria._id}),Object(S.jsx)("td",{className:"w-100",children:e.categoria.categoriaDisponible}),Object(S.jsx)("td",{children:Object(S.jsx)("button",{onClick:function(){return function(t){var a="https://rollingnews5a.herokuapp.com/api/rollingnews/categorias/"+t;ne.a.fire({title:"\xbfEstas seguro de eliminar esta cateogoria?",text:"No puede recuperar datos eliminados!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(){var t=Object(N.a)(v.a.mark((function t(c){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.isConfirmed){t.next=12;break}return t.prev=1,t.next=4,fetch(a,{method:"DELETE",headers:{"Content-Type":"aplication/json"}});case 4:200===t.sent.status?(ne.a.fire("Categoria removida","La noticia seleccionada se elimin\xf3 correctamente","success"),e.consultarCategoria()):ne.a.fire("Error","Intente nuevamente","error"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),ne.a.fire("Error","Espere unos minutos","error");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}(e.categoria._id)},className:"mx-auto d-block btn btn-danger py-1",children:Object(S.jsx)(le.a,{icon:oe.a})})})]})},ue=Object(A.h)((function(e){var t=Object(m.useState)({}),a=Object(y.a)(t,2),c=a[0],n=a[1],r="Admin"===c.nombre?Object(S.jsxs)(m.Fragment,{children:[Object(S.jsx)("h2",{className:"font-weight-light mt-2 mb-3",children:"Lista de noticias"}),Object(S.jsx)(ie,{consultarCategoria:e.consultarCategoria}),Object(S.jsxs)(se.a,{className:"my-4 mx-auto",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"ID"}),Object(S.jsx)("th",{children:"Categor\xeda"}),Object(S.jsx)("th",{children:"Acciones"})]})}),Object(S.jsx)("tbody",{children:e.categorias.map((function(t){return Object(S.jsx)(je,{consultarCategoria:e.consultarCategoria,categoria:t},t._id)}))})]})]}):Object(S.jsx)(m.Fragment,{children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("h1",{className:"display-2",children:"Acceso restringido"}),Object(S.jsx)("p",{className:"lead",children:"Seccion para uso exclusivo del administrador"})]})}),s=Object(A.f)();Object(m.useEffect)((function(){console.log("route has been changed"),e.extraerLocal("usuarioLogueadoKey",n)}),[s.pathname]);var i=Object(m.useRef)(!0);return Object(m.useEffect)((function(){i.current?i.current=!1:setTimeout((function(){"Admin"!==c.nombre?e.history.push("/"):console.log("Adminxd")}),2e3)})),Object(S.jsxs)("div",{className:"container",children:[r,Object(S.jsx)("p",{className:"my-5  text-center",children:"Informaci\xf3n del sistema v0.1"})]})})),de=a(60),be=function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.noticia._id}),Object(S.jsx)("td",{children:e.noticia.titulo}),Object(S.jsx)("td",{children:e.noticia.subtitulo}),Object(S.jsx)("td",{children:e.noticia.categoria}),Object(S.jsxs)("td",{className:"d-flex justify-content-center",children:[Object(S.jsx)(w.b,{className:"btn btn-warning mx-1",to:"/administracion/editar/".concat(e.noticia._id),children:Object(S.jsx)(le.a,{className:"text-light",icon:de.a})}),Object(S.jsx)("button",{className:" mx-1 btn btn-danger",onClick:function(){return function(t){var a="https://rollingnews5a.herokuapp.com/api/rollingnews/noticias/"+t;ne.a.fire({title:"\xbfEstas seguro de eliminar esta noticia?",text:"No puede recuperar datos eliminados!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(){var t=Object(N.a)(v.a.mark((function t(c){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.isConfirmed){t.next=12;break}return t.prev=1,t.next=4,fetch(a,{method:"DELETE",headers:{"Content-Type":"aplication/json"}});case 4:200===t.sent.status?(ne.a.fire("Noticia removida","La noticia seleccionada se elimin\xf3 correctamente","success"),e.consultarAPI()):ne.a.fire("Error","Intente nuevamente","error"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),ne.a.fire("Error","Espere unos minutos","error");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}(e.noticia._id)},children:Object(S.jsx)(le.a,{icon:oe.a})})]})]})},xe=Object(A.h)((function(e){var t=Object(m.useState)({}),a=Object(y.a)(t,2),c=a[0],n=a[1],r="Admin"===c.nombre?Object(S.jsxs)(m.Fragment,{children:[Object(S.jsx)("h2",{className:"font-weight-light my-2",children:"Lista de noticias"}),Object(S.jsxs)(se.a,{className:"my-4",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"ID"}),Object(S.jsx)("th",{children:"T\xedtulo"}),Object(S.jsx)("th",{children:"Subt\xedtulo"}),Object(S.jsx)("th",{children:"Categor\xeda"}),Object(S.jsx)("th",{children:"Acciones"})]})}),Object(S.jsx)("tbody",{children:e.noticias.map((function(t){return Object(S.jsx)(be,{consultarAPI:e.consultarAPI,noticia:t},t._id)}))})]})]}):Object(S.jsx)(m.Fragment,{children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("h1",{className:"display-2",children:"Acceso restringido"}),Object(S.jsx)("p",{className:"lead",children:"Seccion para uso exclusivo del administrador"})]})}),s=Object(A.f)();Object(m.useEffect)((function(){console.log("route has been changed"),e.extraerLocal("usuarioLogueadoKey",n)}),[s.pathname]);var i=Object(m.useRef)(!0);return Object(m.useEffect)((function(){i.current?i.current=!1:setTimeout((function(){"Admin"!==c.nombre?e.history.push("/"):console.log("Adminxd")}),2e3)})),Object(S.jsxs)("div",{className:"container",children:[r,Object(S.jsx)("p",{className:"my-5  text-center",children:"Informaci\xf3n del sistema v0.1"})]})})),he=Object(A.h)((function(e){var t="https://rollingnews5a.herokuapp.com/api/rollingnews/noticias",a=Object(A.g)().id,c=Object(m.useState)({}),n=Object(y.a)(c,2),r=n[0],s=n[1],i=Object(m.useState)(!1),o=Object(y.a)(i,2),l=o[0],j=o[1],u=Object(m.useState)({}),d=Object(y.a)(u,2),b=d[0],x=d[1],h=Object(m.useRef)(""),O=Object(m.useRef)(""),p=Object(m.useRef)(""),f=Object(m.useRef)(""),g=Object(m.useRef)(""),w=Object(m.useRef)(""),C=Object(m.useRef)(""),k=Object(m.useRef)(""),L=Object(m.useRef)(""),I=Object(m.useRef)("");Object(m.useEffect)((function(){T()}),[]);var T=function(){var e=Object(N.a)(v.a.mark((function e(){var c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t+"/".concat(a));case 3:if(200!==(c=e.sent).status){e.next=9;break}return e.next=7,c.json();case 7:n=e.sent,s(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var c=Object(N.a)(v.a.mark((function c(n){var r;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),!(ee(h.current.value)&&ee(O.current.value)&&ee(p.current.value)&&ee(g.current.value)&&ee(w.current.value)&&ee(C.current.value)&&ee(k.current.value)&&ee(L.current.value)&&ee(I.current.value)&&ee(f.current.value))){c.next=16;break}return r={titulo:h.current.value,subtitulo:O.current.value,parrafo1:p.current.value,parrafo2:g.current.value,parrafo3:w.current.value,categoria:f.current.value,imagen1:C.current.value,imagen2:k.current.value,autor:L.current.value,fecha:I.current.value},c.prev=3,c.next=6,fetch(t+"/"+a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 6:200===c.sent.status&&(ne.a.fire("Noticia editada","Se modificaron los datos de la noticia","success"),e.consultarAPI(),e.history.push("/administracion/noticias")),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(3),console.log(c.t0);case 13:j(!1),c.next=18;break;case 16:return j(!0),c.abrupt("return");case 18:case"end":return c.stop()}}),c,null,[[3,10]])})));return function(e){return c.apply(this,arguments)}}(),R="Admin"===b.nombre?Object(S.jsxs)(m.Fragment,{children:[Object(S.jsx)("h2",{className:"font-weight-light my-3 text-center",children:"EDITAR UNA NOTICIA"}),Object(S.jsxs)(Z.a,{onSubmit:_,children:[Object(S.jsxs)(Z.a.Group,{children:[!0===l?Object(S.jsx)($.a,{variant:"danger",children:"Todos los campos son obligatorios"}):null,Object(S.jsx)(Z.a.Label,{children:"T\xedtulo principal"}),Object(S.jsx)(Z.a.Control,{type:"text",placeholder:"Escriba un t\xedtulo",defaultValue:r.titulo,ref:h})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Subt\xedtulo"}),Object(S.jsx)(Z.a.Control,{type:"text",placeholder:"Escriba un subt\xedtulo",defaultValue:r.subtitulo,ref:O})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Archivo imagen 1"}),Object(S.jsx)(Z.a.Control,{type:"text",placeholder:"Ejemplo: flores.jpg",defaultValue:r.imagen1,ref:C})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Archivo imagen 2"}),Object(S.jsx)(Z.a.Control,{type:"text",placeholder:"Ejemplo: arboles.jpg",defaultValue:r.imagen2,ref:k})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"P\xe1rrafo 1"}),Object(S.jsx)(Z.a.Control,{as:"textarea",rows:3,placeholder:"Ingrese hasta 200 caracteres",defaultValue:r.parrafo1,ref:p})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"P\xe1rrafo 2"}),Object(S.jsx)(Z.a.Control,{as:"textarea",rows:3,placeholder:"Ingrese hasta 200 caracteres",defaultValue:r.parrafo2,ref:g})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"P\xe1rrafo 3"}),Object(S.jsx)(Z.a.Control,{as:"textarea",rows:3,placeholder:"Ingrese hasta 200 caracteres",defaultValue:r.parrafo3,ref:w})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Autor"}),Object(S.jsx)(Z.a.Control,{defaultValue:r.autor,ref:L,type:"text",placeholder:"Ingrese el autor de la noticia"})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Fecha"}),Object(S.jsx)(Z.a.Control,{defaultValue:r.fecha,ref:I,type:"text",placeholder:"Ingrese la fecha"})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{children:"Seleccionar categor\xeda"}),Object(S.jsxs)(Z.a.Control,{as:"select",ref:f,children:[Object(S.jsx)("option",{value:r.categoria,children:"Sin modificar"}),e.categorias.map((function(e){return Object(S.jsx)("option",{children:e.categoriaDisponible})}))]})]}),Object(S.jsx)(E.a,{variant:"primary",type:"submit",children:"Agregar"})]})]}):Object(S.jsx)(m.Fragment,{children:Object(S.jsxs)("div",{className:"text-center",children:[Object(S.jsx)("h1",{className:"display-2",children:"Acceso restringido"}),Object(S.jsx)("p",{className:"lead",children:"Secci\xf3n para uso exclusivo del administrador"})]})}),G=Object(A.f)();Object(m.useEffect)((function(){console.log("route has been changed"),e.extraerLocal("usuarioLogueadoKey",x)}),[G.pathname]);var D=Object(m.useRef)(!0);return Object(m.useEffect)((function(){D.current?D.current=!1:setTimeout((function(){"Admin"!==b.nombre?e.history.push("/"):console.log("Adminxd")}),2e3)})),Object(S.jsxs)("div",{className:"container",children:[R,Object(S.jsx)("p",{className:"my-5  text-center",children:"Informaci\xf3n del sistema v0.1"})]})})),me=a(39),Oe=a.n(me);Object(me.init)("user_iyqHcH4ERBxkxOuuTmb3T");var pe=Object(A.h)((function(e){var t="https://rollingnews5a.herokuapp.com/api/rollingnews/usuarios",a=Object(m.useState)(""),c=Object(y.a)(a,2),n=c[0],r=c[1],s=Object(m.useState)(""),i=Object(y.a)(s,2),o=i[0],l=i[1],j=Object(m.useState)(""),u=Object(y.a)(j,2),d=u[0],b=u[1],x=Object(m.useState)(!1),h=Object(y.a)(x,2),O=h[0],p=h[1],f=Object(m.useState)(!1),g=Object(y.a)(f,2),C=g[0],k=(g[1],Object(m.useState)(!1)),L=Object(y.a)(k,2),A=L[0],I=L[1],T=Object(m.useState)(""),_=Object(y.a)(T,2),R=_[0],G=_[1],D=function(){var e=Object(N.a)(v.a.mark((function e(a){var c,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(ee(n)&&ee(d)&&ee(o))){e.next=22;break}return I(!1),c={nombre:n,pass:o,verified:C,email:d},e.prev=4,r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},e.next=8,fetch(t,r);case 8:return s=e.sent,e.next=11,s.status;case 11:if(e.t0=e.sent,201!==e.t0){e.next=15;break}ne.a.fire("Te registraste con exito","Te enviamos un email con los siguientes pasos","success"),P();case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(4),console.log(e.t1);case 20:e.next=23;break;case 22:I(!0);case 23:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(N.a)(v.a.mark((function e(){var a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,n=c.filter((function(e){return e.email===d})),G(n[0]._id),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),F=Object(m.useRef)(!0);return Object(m.useEffect)((function(){F.current?F.current=!1:Oe.a.send("service_p22wlsn","template_jaxj4sg",{to_name:"".concat(n),from_name:"Rollingnews",message:"Este es tu c\xf3digo \xfanico ;)",id:"".concat(R),message2:"Complet\xe1 la verificaci\xf3n ingresando el c\xf3digo en el siguiente link",link:"http://localhost:3000/suscribirse/verificar",email:"".concat(d)}).then((function(t){console.log(t),p(!0),e.history.push("/suscribirse/verificar")}),(function(e){console.log(e)}))}),[R]),Object(m.useEffect)((function(){F.current?F.current=!1:(r(""),l(""),b(""))}),[O]),Object(S.jsxs)("div",{className:"container my-5",children:[Object(S.jsx)("h2",{className:"my-4 text-center font-weight-light",children:"Empez\xe1 creando tu cuenta"}),Object(S.jsxs)(Z.a,{onSubmit:D,className:"w-75 mx-auto",children:[Object(S.jsxs)(Z.a.Group,{children:[!0===A?Object(S.jsx)($.a,{variant:"danger",children:"Todos los campos son obligatorios"}):null,Object(S.jsx)(Z.a.Label,{children:"Tu nombre de usuario"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return r(e.target.value)},type:"text",placeholder:"Jorgito",value:n})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{className:"mt-4",children:"Tu email"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return b(e.target.value)},type:"email",placeholder:"jorge@jpclub.com",value:d})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{className:"mt-4",children:"Contrase\xf1a"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return l(e.target.value)},type:"password",placeholder:"Contrase\xf1a",value:o})]}),Object(S.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(S.jsxs)("a",{className:"text-muted text-decoration-none",children:["\xbfYa ten\xe9s una cuenta?"," ",Object(S.jsx)(w.b,{exact:!0,to:"/ingresar",className:"text-decoration-none",children:"Inicia sesion"})]})}),Object(S.jsx)("div",{className:"d-flex justify-content-center",children:Object(S.jsx)(E.a,{className:"mx-2",variant:"primary",type:"submit",children:"Suscr\xedbete"})})]})]})})),fe=Object(A.h)((function(e){var t="https://rollingnews5a.herokuapp.com/api/rollingnews/usuarios",a=Object(m.useState)(""),c=Object(y.a)(a,2),n=c[0],r=c[1],s=Object(m.useState)(""),i=Object(y.a)(s,2),o=i[0],l=i[1],j=Object(m.useState)({}),u=Object(y.a)(j,2),d=u[0],b=u[1],x=Object(m.useState)(!1),h=Object(y.a)(x,2),O=h[0],p=h[1],f=n,g=function(){var e=Object(N.a)(v.a.mark((function e(){var a,c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,r=c.filter((function(e){return e._id===n&&e.nombre===o})),b(r[0]),r[0]._id===n&&p(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var a=Object(N.a)(v.a.mark((function a(){var c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!O){a.next=12;break}return c={nombre:d.nombre,pass:d.pass,verified:O,email:d.email},a.prev=2,a.next=5,fetch(t+"/"+f,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 5:200===a.sent.status&&(ne.a.fire("Usuario verificado","Ahora pod\xe9s disfrutar de todos los beneficios","success"),e.history.push("/")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(){return a.apply(this,arguments)}}(),C=Object(m.useRef)(!0);return Object(m.useEffect)((function(){C.current?C.current=!1:g()}),[n]),Object(m.useEffect)((function(){C.current?C.current=!1:w()}),[O]),Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)(Z.a,{children:[Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{className:"mt-4",children:"Ingres\xe1 tu nombre de usuario"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Tu usuario",value:o})]}),Object(S.jsxs)(Z.a.Group,{children:[Object(S.jsx)(Z.a.Label,{className:"mt-4",children:"Ingres\xe1 tu c\xf3digo \xfanico"}),Object(S.jsx)(Z.a.Control,{onChange:function(e){return r(e.target.value)},type:"text",placeholder:"Tu c\xf3digo",value:n})]})]})})}));var ge=function(){var e=Object(m.useState)([]),t=Object(y.a)(e,2),a=t[0],c=t[1],n=Object(m.useState)([]),r=Object(y.a)(n,2),s=r[0],i=r[1],o=Object(m.useState)([]),l=Object(y.a)(o,2),j=l[0],u=l[1],d=Object(m.useState)([]),b=Object(y.a)(d,2),x=b[0],h=b[1],O=Object(m.useState)([]),p=Object(y.a)(O,2),f=p[0],g=p[1],k=Object(m.useState)([]),E=Object(y.a)(k,2),L=E[0],I=E[1];Object(m.useEffect)((function(){R(),G()}),[]),Object(m.useEffect)((function(){_()}),[s]);var T=function(e,t,a,c,n){for(var r=[],s=[],i=[],o=0;o<a;o++){var l=Math.floor(Math.random()*(e-1))+1;r.push(l),i=r.filter((function(e,t){return r.indexOf(e)===t}))}for(var j in i.splice(t,i.length),i)s.push(c[i[j]]);n(s)},_=function(){for(var e=[],t=[],a=0;a<4;a++)e.push(s[a]);u(e);for(var c=4;c<s.length;c++)t.push(s[c]);h(t)},R=function(){var e=Object(N.a)(v.a.mark((function e(){var t,a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://rollingnews5a.herokuapp.com/api/rollingnews/noticias");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a.reverse()),n=a.filter((function(e){return"Covid"!=e.categoria})),I(n),(r=a.filter((function(e){return"Covid"===e.categoria}))).splice(2,r.length),g(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(N.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://rollingnews5a.herokuapp.com/api/rollingnews/categorias");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,i(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),D=function(e,t){null===localStorage.getItem(e)?console.log("no existe key"):t(JSON.parse(localStorage.getItem(e)))},P=0,F=function(){null===localStorage.getItem("noticiasVistasKey")?(P=0,localStorage.setItem("noticiasVistasKey",JSON.stringify(P)),console.log("no existe key")):P=JSON.parse(localStorage.getItem("noticiasVistasKey")),P++,localStorage.setItem("noticiasVistasKey",JSON.stringify(P)),console.log(P)};return Object(S.jsx)("div",{className:"text-dark",children:Object(S.jsxs)(w.a,{children:[Object(S.jsx)(H,{dropdown:x,navegacion:j,noticias:a,extraerLocal:D,categorias:s}),Object(S.jsxs)(A.c,{children:[Object(S.jsx)(A.a,{exact:!0,path:"/",children:Object(S.jsx)(W,{limiteNoticias:F,noticiasRandom:T,noticias:L,covid:f})}),Object(S.jsx)(A.a,{exact:!0,path:"/categoria/:id",children:Object(S.jsx)(Q,{limiteNoticias:F})}),Object(S.jsx)(A.a,{exact:!0,path:"/detalle/:id",children:Object(S.jsx)(X,{noticiasRandom:T,limiteNoticias:F,extraerLocal:D})}),Object(S.jsx)(A.a,{exact:!0,path:"/ingresar",children:Object(S.jsx)(te,{})}),Object(S.jsx)(A.a,{exact:!0,path:"/suscribirse",children:Object(S.jsx)(pe,{})}),Object(S.jsx)(A.a,{exact:!0,path:"/suscribirse/verificar",children:Object(S.jsx)(fe,{})}),Object(S.jsx)(A.a,{exact:!0,path:"/administracion",children:Object(S.jsx)(ae,{extraerLocal:D})}),Object(S.jsx)(A.a,{exact:!0,path:"/administracion/nueva",children:Object(S.jsx)(re,{extraerLocal:D,categorias:s,consultarAPI:R})}),Object(S.jsx)(A.a,{exact:!0,path:"/administracion/editar/:id",children:Object(S.jsx)(he,{extraerLocal:D,categorias:s,consultarAPI:R})}),Object(S.jsx)(A.a,{exact:!0,path:"/administracion/categorias",children:Object(S.jsx)(ue,{extraerLocal:D,consultarCategoria:G,categorias:s})}),Object(S.jsx)(A.a,{exact:!0,path:"/administracion/noticias",children:Object(S.jsx)(xe,{extraerLocal:D,consultarAPI:R,noticias:a})})]}),Object(S.jsx)(C,{})]})})},ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,99)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};f.a.render(Object(S.jsx)(O.a.StrictMode,{children:Object(S.jsx)(ge,{})}),document.getElementById("root")),ve()}},[[90,1,2]]]);
//# sourceMappingURL=main.714793f6.chunk.js.map